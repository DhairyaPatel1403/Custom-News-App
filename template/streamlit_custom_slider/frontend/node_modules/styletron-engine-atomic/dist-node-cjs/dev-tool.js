"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.insertRuleIntoDevtools = exports.hydrateDevtoolsRule = void 0;

/* eslint-env browser */
const insertRuleIntoDevtools = (selector, block) => {
  // start after the . combinator and cut at the first : if there is one to cut out the pseudo classes
  const key = selector.substring(1, selector.indexOf(":") !== -1 ? selector.indexOf(":") : selector.length);
  const styles = {}; // split the declaration to catch vendor prefixing

  for (const decl of block.split(";")) {
    if (decl.trim() !== "" && !window.__STYLETRON_DEVTOOLS__.atomicMap[key]) styles[decl.substring(0, decl.indexOf(":"))] = decl.substring(decl.indexOf(":") + 1, decl.length);
  }

  window.__STYLETRON_DEVTOOLS__.atomicMap[key] = styles;
};

exports.insertRuleIntoDevtools = insertRuleIntoDevtools;

const hydrateDevtoolsRule = cssString => {
  const id = cssString.substring(0, 3);
  const block = cssString.substring(4, cssString.length - 1);
  insertRuleIntoDevtools(id, block);
};

exports.hydrateDevtoolsRule = hydrateDevtoolsRule;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpbnNlcnRSdWxlSW50b0RldnRvb2xzIiwic2VsZWN0b3IiLCJibG9jayIsImtleSIsInN1YnN0cmluZyIsImluZGV4T2YiLCJsZW5ndGgiLCJzdHlsZXMiLCJkZWNsIiwic3BsaXQiLCJ0cmltIiwid2luZG93IiwiX19TVFlMRVRST05fREVWVE9PTFNfXyIsImF0b21pY01hcCIsImh5ZHJhdGVEZXZ0b29sc1J1bGUiLCJjc3NTdHJpbmciLCJpZCJdLCJzb3VyY2VzIjpbInNyYy9kZXYtdG9vbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRSdWxlSW50b0RldnRvb2xzID0gKHNlbGVjdG9yLCBibG9jaykgPT4ge1xuICAvLyBzdGFydCBhZnRlciB0aGUgLiBjb21iaW5hdG9yIGFuZCBjdXQgYXQgdGhlIGZpcnN0IDogaWYgdGhlcmUgaXMgb25lIHRvIGN1dCBvdXQgdGhlIHBzZXVkbyBjbGFzc2VzXG4gIGNvbnN0IGtleSA9IHNlbGVjdG9yLnN1YnN0cmluZyhcbiAgICAxLFxuICAgIHNlbGVjdG9yLmluZGV4T2YoXCI6XCIpICE9PSAtMSA/IHNlbGVjdG9yLmluZGV4T2YoXCI6XCIpIDogc2VsZWN0b3IubGVuZ3RoLFxuICApO1xuICBjb25zdCBzdHlsZXMgPSB7fTtcbiAgLy8gc3BsaXQgdGhlIGRlY2xhcmF0aW9uIHRvIGNhdGNoIHZlbmRvciBwcmVmaXhpbmdcbiAgZm9yIChjb25zdCBkZWNsIG9mIGJsb2NrLnNwbGl0KFwiO1wiKSkge1xuICAgIGlmIChkZWNsLnRyaW0oKSAhPT0gXCJcIiAmJiAhd2luZG93Ll9fU1RZTEVUUk9OX0RFVlRPT0xTX18uYXRvbWljTWFwW2tleV0pXG4gICAgICBzdHlsZXNbZGVjbC5zdWJzdHJpbmcoMCwgZGVjbC5pbmRleE9mKFwiOlwiKSldID0gZGVjbC5zdWJzdHJpbmcoXG4gICAgICAgIGRlY2wuaW5kZXhPZihcIjpcIikgKyAxLFxuICAgICAgICBkZWNsLmxlbmd0aCxcbiAgICAgICk7XG4gIH1cblxuICB3aW5kb3cuX19TVFlMRVRST05fREVWVE9PTFNfXy5hdG9taWNNYXBba2V5XSA9IHN0eWxlcztcbn07XG5cbmV4cG9ydCBjb25zdCBoeWRyYXRlRGV2dG9vbHNSdWxlID0gY3NzU3RyaW5nID0+IHtcbiAgY29uc3QgaWQgPSBjc3NTdHJpbmcuc3Vic3RyaW5nKDAsIDMpO1xuICBjb25zdCBibG9jayA9IGNzc1N0cmluZy5zdWJzdHJpbmcoNCwgY3NzU3RyaW5nLmxlbmd0aCAtIDEpO1xuICBpbnNlcnRSdWxlSW50b0RldnRvb2xzKGlkLCBibG9jayk7XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDTyxNQUFNQSxzQkFBc0IsR0FBRyxDQUFDQyxRQUFELEVBQVdDLEtBQVgsS0FBcUI7RUFDekQ7RUFDQSxNQUFNQyxHQUFHLEdBQUdGLFFBQVEsQ0FBQ0csU0FBVCxDQUNWLENBRFUsRUFFVkgsUUFBUSxDQUFDSSxPQUFULENBQWlCLEdBQWpCLE1BQTBCLENBQUMsQ0FBM0IsR0FBK0JKLFFBQVEsQ0FBQ0ksT0FBVCxDQUFpQixHQUFqQixDQUEvQixHQUF1REosUUFBUSxDQUFDSyxNQUZ0RCxDQUFaO0VBSUEsTUFBTUMsTUFBTSxHQUFHLEVBQWYsQ0FOeUQsQ0FPekQ7O0VBQ0EsS0FBSyxNQUFNQyxJQUFYLElBQW1CTixLQUFLLENBQUNPLEtBQU4sQ0FBWSxHQUFaLENBQW5CLEVBQXFDO0lBQ25DLElBQUlELElBQUksQ0FBQ0UsSUFBTCxPQUFnQixFQUFoQixJQUFzQixDQUFDQyxNQUFNLENBQUNDLHNCQUFQLENBQThCQyxTQUE5QixDQUF3Q1YsR0FBeEMsQ0FBM0IsRUFDRUksTUFBTSxDQUFDQyxJQUFJLENBQUNKLFNBQUwsQ0FBZSxDQUFmLEVBQWtCSSxJQUFJLENBQUNILE9BQUwsQ0FBYSxHQUFiLENBQWxCLENBQUQsQ0FBTixHQUErQ0csSUFBSSxDQUFDSixTQUFMLENBQzdDSSxJQUFJLENBQUNILE9BQUwsQ0FBYSxHQUFiLElBQW9CLENBRHlCLEVBRTdDRyxJQUFJLENBQUNGLE1BRndDLENBQS9DO0VBSUg7O0VBRURLLE1BQU0sQ0FBQ0Msc0JBQVAsQ0FBOEJDLFNBQTlCLENBQXdDVixHQUF4QyxJQUErQ0ksTUFBL0M7QUFDRCxDQWpCTTs7OztBQW1CQSxNQUFNTyxtQkFBbUIsR0FBR0MsU0FBUyxJQUFJO0VBQzlDLE1BQU1DLEVBQUUsR0FBR0QsU0FBUyxDQUFDWCxTQUFWLENBQW9CLENBQXBCLEVBQXVCLENBQXZCLENBQVg7RUFDQSxNQUFNRixLQUFLLEdBQUdhLFNBQVMsQ0FBQ1gsU0FBVixDQUFvQixDQUFwQixFQUF1QlcsU0FBUyxDQUFDVCxNQUFWLEdBQW1CLENBQTFDLENBQWQ7RUFDQU4sc0JBQXNCLENBQUNnQixFQUFELEVBQUtkLEtBQUwsQ0FBdEI7QUFDRCxDQUpNIn0=