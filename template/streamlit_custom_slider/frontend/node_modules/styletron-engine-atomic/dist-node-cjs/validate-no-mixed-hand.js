"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.validateNoMixedHand = validateNoMixedHand;

var _hyphenateStyleName = _interopRequireDefault(require("./hyphenate-style-name"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Adapted from https://github.com/gilmoreorless/css-shorthand-properties
 */
const shorthandMap = {
  // CSS 2.1: https://www.w3.org/TR/CSS2/propidx.html
  "list-style": ["list-style-type", "list-style-position", "list-style-image"],
  margin: ["margin-top", "margin-right", "margin-bottom", "margin-left"],
  outline: ["outline-width", "outline-style", "outline-color"],
  padding: ["padding-top", "padding-right", "padding-bottom", "padding-left"],
  // CSS Backgrounds and Borders Module Level 3: https://www.w3.org/TR/css3-background/
  background: ["background-image", "background-position", "background-size", "background-repeat", "background-origin", "background-clip", "background-attachment", "background-color"],
  border: ["border-top-width", "border-right-width", "border-bottom-width", "border-left-width", "border-width", "border-top-style", "border-right-style", "border-bottom-style", "border-left-style", "border-style", "border-top-color", "border-right-color", "border-bottom-color", "border-left-color", "border-color"],
  "border-color": ["border-top-color", "border-right-color", "border-bottom-color", "border-left-color"],
  "border-style": ["border-top-style", "border-right-style", "border-bottom-style", "border-left-style"],
  "border-width": ["border-top-width", "border-right-width", "border-bottom-width", "border-left-width"],
  "border-top": ["border-top-width", "border-top-style", "border-top-color"],
  "border-right": ["border-right-width", "border-right-style", "border-right-color"],
  "border-bottom": ["border-bottom-width", "border-bottom-style", "border-bottom-color"],
  "border-left": ["border-left-width", "border-left-style", "border-left-color"],
  "border-radius": ["border-top-left-radius", "border-top-right-radius", "border-bottom-right-radius", "border-bottom-left-radius"],
  "border-image": ["border-image-source", "border-image-slice", "border-image-width", "border-image-outset", "border-image-repeat"],
  // CSS Fonts Module Level 3: https://www.w3.org/TR/css3-fonts/
  font: ["font-style", "font-variant-ligatures", "font-variant-alternates", "font-variant-caps", "font-variant-numeric", "font-variant-east-asian", "font-variant", "font-weight", "font-stretch", "font-size", "line-height", "font-family"],
  "font-variant": ["font-variant-ligatures", "font-variant-alternates", "font-variant-caps", "font-variant-numeric", "font-variant-east-asian"],
  // CSS Flexible Box Layout Module Level 1: https://www.w3.org/TR/css3-flexbox-1/
  flex: ["flex-grow", "flex-shrink", "flex-basis"],
  "flex-flow": ["flex-direction", "flex-wrap"],
  // CSS Grid Layout Module Level 1: https://www.w3.org/TR/css-grid-1/
  grid: ["grid-template-rows", "grid-template-columns", "grid-template-areas", "grid-auto-rows", "grid-auto-columns", "grid-auto-flow"],
  "grid-template": ["grid-template-rows", "grid-template-columns", "grid-template-areas"],
  "grid-row": ["grid-row-start", "grid-row-end"],
  "grid-column": ["grid-column-start", "grid-column-end"],
  "grid-area": ["grid-row-start", "grid-column-start", "grid-row-end", "grid-column-end"],
  "grid-gap": ["grid-row-gap", "grid-column-gap"],
  // CSS Masking Module Level 1: https://www.w3.org/TR/css-masking/
  mask: ["mask-image", "mask-mode", "mask-position", "mask-size", "mask-repeat", "mask-origin", "mask-clip"],
  "mask-border": ["mask-border-source", "mask-border-slice", "mask-border-width", "mask-border-outset", "mask-border-repeat", "mask-border-mode"],
  // CSS Multi-column Layout Module: https://www.w3.org/TR/css3-multicol/
  columns: ["column-width", "column-count"],
  "column-rule": ["column-rule-width", "column-rule-style", "column-rule-color"],
  // CSS Scroll Snap Module Level 1: https://www.w3.org/TR/css-scroll-snap-1/
  "scroll-padding": ["scroll-padding-top", "scroll-padding-right", "scroll-padding-bottom", "scroll-padding-left"],
  "scroll-padding-block": ["scroll-padding-block-start", "scroll-padding-block-end"],
  "scroll-padding-inline": ["scroll-padding-inline-start", "scroll-padding-inline-end"],
  "scroll-snap-margin": ["scroll-snap-margin-top", "scroll-snap-margin-right", "scroll-snap-margin-bottom", "scroll-snap-margin-left"],
  "scroll-snap-margin-block": ["scroll-snap-margin-block-start", "scroll-snap-margin-block-end"],
  "scroll-snap-margin-inline": ["scroll-snap-margin-inline-start", "scroll-snap-margin-inline-end"],
  // CSS Speech Module: https://www.w3.org/TR/css3-speech/
  cue: ["cue-before", "cue-after"],
  pause: ["pause-before", "pause-after"],
  rest: ["rest-before", "rest-after"],
  // CSS Text Decoration Module Level 3: https://www.w3.org/TR/css-text-decor-3/
  "text-decoration": ["text-decoration-line", "text-decoration-style", "text-decoration-color"],
  "text-emphasis": ["text-emphasis-style", "text-emphasis-color"],
  // CSS Animations (WD): https://www.w3.org/TR/css3-animations
  animation: ["animation-name", "animation-duration", "animation-timing-function", "animation-delay", "animation-iteration-count", "animation-direction", "animation-fill-mode", "animation-play-state"],
  // CSS Transitions (WD): https://www.w3.org/TR/css3-transitions/
  transition: ["transition-property", "transition-duration", "transition-timing-function", "transition-delay"]
};

function validateNoMixedHand(style) {
  const hyphenatedProperties = Object.keys(style).reduce((acc, property) => {
    acc[(0, _hyphenateStyleName.default)(property)] = property;
    return acc;
  }, {});
  const mixed = [];

  for (const property in hyphenatedProperties) {
    if (property in shorthandMap) {
      for (const longhand of shorthandMap[property]) {
        if (longhand in hyphenatedProperties) {
          const long = hyphenatedProperties[longhand];
          const short = hyphenatedProperties[property];
          mixed.push({
            shorthand: {
              property: short,
              value: style[short]
            },
            longhand: {
              property: long,
              value: style[long]
            }
          });
        }
      }
    }
  }

  return mixed;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzaG9ydGhhbmRNYXAiLCJtYXJnaW4iLCJvdXRsaW5lIiwicGFkZGluZyIsImJhY2tncm91bmQiLCJib3JkZXIiLCJmb250IiwiZmxleCIsImdyaWQiLCJtYXNrIiwiY29sdW1ucyIsImN1ZSIsInBhdXNlIiwicmVzdCIsImFuaW1hdGlvbiIsInRyYW5zaXRpb24iLCJ2YWxpZGF0ZU5vTWl4ZWRIYW5kIiwic3R5bGUiLCJoeXBoZW5hdGVkUHJvcGVydGllcyIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJwcm9wZXJ0eSIsImh5cGhlbmF0ZSIsIm1peGVkIiwibG9uZ2hhbmQiLCJsb25nIiwic2hvcnQiLCJwdXNoIiwic2hvcnRoYW5kIiwidmFsdWUiXSwic291cmNlcyI6WyJzcmMvdmFsaWRhdGUtbm8tbWl4ZWQtaGFuZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2lsbW9yZW9ybGVzcy9jc3Mtc2hvcnRoYW5kLXByb3BlcnRpZXNcbiAqL1xuXG5pbXBvcnQgaHlwaGVuYXRlIGZyb20gXCIuL2h5cGhlbmF0ZS1zdHlsZS1uYW1lXCI7XG5cbmNvbnN0IHNob3J0aGFuZE1hcCA9IHtcbiAgLy8gQ1NTIDIuMTogaHR0cHM6Ly93d3cudzMub3JnL1RSL0NTUzIvcHJvcGlkeC5odG1sXG4gIFwibGlzdC1zdHlsZVwiOiBbXCJsaXN0LXN0eWxlLXR5cGVcIiwgXCJsaXN0LXN0eWxlLXBvc2l0aW9uXCIsIFwibGlzdC1zdHlsZS1pbWFnZVwiXSxcbiAgbWFyZ2luOiBbXCJtYXJnaW4tdG9wXCIsIFwibWFyZ2luLXJpZ2h0XCIsIFwibWFyZ2luLWJvdHRvbVwiLCBcIm1hcmdpbi1sZWZ0XCJdLFxuICBvdXRsaW5lOiBbXCJvdXRsaW5lLXdpZHRoXCIsIFwib3V0bGluZS1zdHlsZVwiLCBcIm91dGxpbmUtY29sb3JcIl0sXG4gIHBhZGRpbmc6IFtcInBhZGRpbmctdG9wXCIsIFwicGFkZGluZy1yaWdodFwiLCBcInBhZGRpbmctYm90dG9tXCIsIFwicGFkZGluZy1sZWZ0XCJdLFxuXG4gIC8vIENTUyBCYWNrZ3JvdW5kcyBhbmQgQm9yZGVycyBNb2R1bGUgTGV2ZWwgMzogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtYmFja2dyb3VuZC9cbiAgYmFja2dyb3VuZDogW1xuICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiLFxuICAgIFwiYmFja2dyb3VuZC1wb3NpdGlvblwiLFxuICAgIFwiYmFja2dyb3VuZC1zaXplXCIsXG4gICAgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLFxuICAgIFwiYmFja2dyb3VuZC1vcmlnaW5cIixcbiAgICBcImJhY2tncm91bmQtY2xpcFwiLFxuICAgIFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsXG4gICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gIF0sXG4gIGJvcmRlcjogW1xuICAgIFwiYm9yZGVyLXRvcC13aWR0aFwiLFxuICAgIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXG4gICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgXCJib3JkZXItbGVmdC13aWR0aFwiLFxuICAgIFwiYm9yZGVyLXdpZHRoXCIsXG4gICAgXCJib3JkZXItdG9wLXN0eWxlXCIsXG4gICAgXCJib3JkZXItcmlnaHQtc3R5bGVcIixcbiAgICBcImJvcmRlci1ib3R0b20tc3R5bGVcIixcbiAgICBcImJvcmRlci1sZWZ0LXN0eWxlXCIsXG4gICAgXCJib3JkZXItc3R5bGVcIixcbiAgICBcImJvcmRlci10b3AtY29sb3JcIixcbiAgICBcImJvcmRlci1yaWdodC1jb2xvclwiLFxuICAgIFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLFxuICAgIFwiYm9yZGVyLWxlZnQtY29sb3JcIixcbiAgICBcImJvcmRlci1jb2xvclwiLFxuICBdLFxuICBcImJvcmRlci1jb2xvclwiOiBbXG4gICAgXCJib3JkZXItdG9wLWNvbG9yXCIsXG4gICAgXCJib3JkZXItcmlnaHQtY29sb3JcIixcbiAgICBcImJvcmRlci1ib3R0b20tY29sb3JcIixcbiAgICBcImJvcmRlci1sZWZ0LWNvbG9yXCIsXG4gIF0sXG4gIFwiYm9yZGVyLXN0eWxlXCI6IFtcbiAgICBcImJvcmRlci10b3Atc3R5bGVcIixcbiAgICBcImJvcmRlci1yaWdodC1zdHlsZVwiLFxuICAgIFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLFxuICAgIFwiYm9yZGVyLWxlZnQtc3R5bGVcIixcbiAgXSxcbiAgXCJib3JkZXItd2lkdGhcIjogW1xuICAgIFwiYm9yZGVyLXRvcC13aWR0aFwiLFxuICAgIFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXG4gICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgXCJib3JkZXItbGVmdC13aWR0aFwiLFxuICBdLFxuICBcImJvcmRlci10b3BcIjogW1wiYm9yZGVyLXRvcC13aWR0aFwiLCBcImJvcmRlci10b3Atc3R5bGVcIiwgXCJib3JkZXItdG9wLWNvbG9yXCJdLFxuICBcImJvcmRlci1yaWdodFwiOiBbXG4gICAgXCJib3JkZXItcmlnaHQtd2lkdGhcIixcbiAgICBcImJvcmRlci1yaWdodC1zdHlsZVwiLFxuICAgIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXG4gIF0sXG4gIFwiYm9yZGVyLWJvdHRvbVwiOiBbXG4gICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgXCJib3JkZXItYm90dG9tLXN0eWxlXCIsXG4gICAgXCJib3JkZXItYm90dG9tLWNvbG9yXCIsXG4gIF0sXG4gIFwiYm9yZGVyLWxlZnRcIjogW1xuICAgIFwiYm9yZGVyLWxlZnQtd2lkdGhcIixcbiAgICBcImJvcmRlci1sZWZ0LXN0eWxlXCIsXG4gICAgXCJib3JkZXItbGVmdC1jb2xvclwiLFxuICBdLFxuICBcImJvcmRlci1yYWRpdXNcIjogW1xuICAgIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLFxuICAgIFwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIixcbiAgICBcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCIsXG4gICAgXCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzXCIsXG4gIF0sXG4gIFwiYm9yZGVyLWltYWdlXCI6IFtcbiAgICBcImJvcmRlci1pbWFnZS1zb3VyY2VcIixcbiAgICBcImJvcmRlci1pbWFnZS1zbGljZVwiLFxuICAgIFwiYm9yZGVyLWltYWdlLXdpZHRoXCIsXG4gICAgXCJib3JkZXItaW1hZ2Utb3V0c2V0XCIsXG4gICAgXCJib3JkZXItaW1hZ2UtcmVwZWF0XCIsXG4gIF0sXG5cbiAgLy8gQ1NTIEZvbnRzIE1vZHVsZSBMZXZlbCAzOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzMy1mb250cy9cbiAgZm9udDogW1xuICAgIFwiZm9udC1zdHlsZVwiLFxuICAgIFwiZm9udC12YXJpYW50LWxpZ2F0dXJlc1wiLFxuICAgIFwiZm9udC12YXJpYW50LWFsdGVybmF0ZXNcIixcbiAgICBcImZvbnQtdmFyaWFudC1jYXBzXCIsXG4gICAgXCJmb250LXZhcmlhbnQtbnVtZXJpY1wiLFxuICAgIFwiZm9udC12YXJpYW50LWVhc3QtYXNpYW5cIixcbiAgICBcImZvbnQtdmFyaWFudFwiLFxuICAgIFwiZm9udC13ZWlnaHRcIixcbiAgICBcImZvbnQtc3RyZXRjaFwiLFxuICAgIFwiZm9udC1zaXplXCIsXG4gICAgXCJsaW5lLWhlaWdodFwiLFxuICAgIFwiZm9udC1mYW1pbHlcIixcbiAgXSxcbiAgXCJmb250LXZhcmlhbnRcIjogW1xuICAgIFwiZm9udC12YXJpYW50LWxpZ2F0dXJlc1wiLFxuICAgIFwiZm9udC12YXJpYW50LWFsdGVybmF0ZXNcIixcbiAgICBcImZvbnQtdmFyaWFudC1jYXBzXCIsXG4gICAgXCJmb250LXZhcmlhbnQtbnVtZXJpY1wiLFxuICAgIFwiZm9udC12YXJpYW50LWVhc3QtYXNpYW5cIixcbiAgXSxcblxuICAvLyBDU1MgRmxleGlibGUgQm94IExheW91dCBNb2R1bGUgTGV2ZWwgMTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtZmxleGJveC0xL1xuICBmbGV4OiBbXCJmbGV4LWdyb3dcIiwgXCJmbGV4LXNocmlua1wiLCBcImZsZXgtYmFzaXNcIl0sXG4gIFwiZmxleC1mbG93XCI6IFtcImZsZXgtZGlyZWN0aW9uXCIsIFwiZmxleC13cmFwXCJdLFxuXG4gIC8vIENTUyBHcmlkIExheW91dCBNb2R1bGUgTGV2ZWwgMTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1ncmlkLTEvXG4gIGdyaWQ6IFtcbiAgICBcImdyaWQtdGVtcGxhdGUtcm93c1wiLFxuICAgIFwiZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXCIsXG4gICAgXCJncmlkLXRlbXBsYXRlLWFyZWFzXCIsXG4gICAgXCJncmlkLWF1dG8tcm93c1wiLFxuICAgIFwiZ3JpZC1hdXRvLWNvbHVtbnNcIixcbiAgICBcImdyaWQtYXV0by1mbG93XCIsXG4gIF0sXG4gIFwiZ3JpZC10ZW1wbGF0ZVwiOiBbXG4gICAgXCJncmlkLXRlbXBsYXRlLXJvd3NcIixcbiAgICBcImdyaWQtdGVtcGxhdGUtY29sdW1uc1wiLFxuICAgIFwiZ3JpZC10ZW1wbGF0ZS1hcmVhc1wiLFxuICBdLFxuICBcImdyaWQtcm93XCI6IFtcImdyaWQtcm93LXN0YXJ0XCIsIFwiZ3JpZC1yb3ctZW5kXCJdLFxuICBcImdyaWQtY29sdW1uXCI6IFtcImdyaWQtY29sdW1uLXN0YXJ0XCIsIFwiZ3JpZC1jb2x1bW4tZW5kXCJdLFxuICBcImdyaWQtYXJlYVwiOiBbXG4gICAgXCJncmlkLXJvdy1zdGFydFwiLFxuICAgIFwiZ3JpZC1jb2x1bW4tc3RhcnRcIixcbiAgICBcImdyaWQtcm93LWVuZFwiLFxuICAgIFwiZ3JpZC1jb2x1bW4tZW5kXCIsXG4gIF0sXG4gIFwiZ3JpZC1nYXBcIjogW1wiZ3JpZC1yb3ctZ2FwXCIsIFwiZ3JpZC1jb2x1bW4tZ2FwXCJdLFxuXG4gIC8vIENTUyBNYXNraW5nIE1vZHVsZSBMZXZlbCAxOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLW1hc2tpbmcvXG4gIG1hc2s6IFtcbiAgICBcIm1hc2staW1hZ2VcIixcbiAgICBcIm1hc2stbW9kZVwiLFxuICAgIFwibWFzay1wb3NpdGlvblwiLFxuICAgIFwibWFzay1zaXplXCIsXG4gICAgXCJtYXNrLXJlcGVhdFwiLFxuICAgIFwibWFzay1vcmlnaW5cIixcbiAgICBcIm1hc2stY2xpcFwiLFxuICBdLFxuICBcIm1hc2stYm9yZGVyXCI6IFtcbiAgICBcIm1hc2stYm9yZGVyLXNvdXJjZVwiLFxuICAgIFwibWFzay1ib3JkZXItc2xpY2VcIixcbiAgICBcIm1hc2stYm9yZGVyLXdpZHRoXCIsXG4gICAgXCJtYXNrLWJvcmRlci1vdXRzZXRcIixcbiAgICBcIm1hc2stYm9yZGVyLXJlcGVhdFwiLFxuICAgIFwibWFzay1ib3JkZXItbW9kZVwiLFxuICBdLFxuXG4gIC8vIENTUyBNdWx0aS1jb2x1bW4gTGF5b3V0IE1vZHVsZTogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtbXVsdGljb2wvXG4gIGNvbHVtbnM6IFtcImNvbHVtbi13aWR0aFwiLCBcImNvbHVtbi1jb3VudFwiXSxcbiAgXCJjb2x1bW4tcnVsZVwiOiBbXG4gICAgXCJjb2x1bW4tcnVsZS13aWR0aFwiLFxuICAgIFwiY29sdW1uLXJ1bGUtc3R5bGVcIixcbiAgICBcImNvbHVtbi1ydWxlLWNvbG9yXCIsXG4gIF0sXG5cbiAgLy8gQ1NTIFNjcm9sbCBTbmFwIE1vZHVsZSBMZXZlbCAxOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXNjcm9sbC1zbmFwLTEvXG4gIFwic2Nyb2xsLXBhZGRpbmdcIjogW1xuICAgIFwic2Nyb2xsLXBhZGRpbmctdG9wXCIsXG4gICAgXCJzY3JvbGwtcGFkZGluZy1yaWdodFwiLFxuICAgIFwic2Nyb2xsLXBhZGRpbmctYm90dG9tXCIsXG4gICAgXCJzY3JvbGwtcGFkZGluZy1sZWZ0XCIsXG4gIF0sXG4gIFwic2Nyb2xsLXBhZGRpbmctYmxvY2tcIjogW1xuICAgIFwic2Nyb2xsLXBhZGRpbmctYmxvY2stc3RhcnRcIixcbiAgICBcInNjcm9sbC1wYWRkaW5nLWJsb2NrLWVuZFwiLFxuICBdLFxuICBcInNjcm9sbC1wYWRkaW5nLWlubGluZVwiOiBbXG4gICAgXCJzY3JvbGwtcGFkZGluZy1pbmxpbmUtc3RhcnRcIixcbiAgICBcInNjcm9sbC1wYWRkaW5nLWlubGluZS1lbmRcIixcbiAgXSxcbiAgXCJzY3JvbGwtc25hcC1tYXJnaW5cIjogW1xuICAgIFwic2Nyb2xsLXNuYXAtbWFyZ2luLXRvcFwiLFxuICAgIFwic2Nyb2xsLXNuYXAtbWFyZ2luLXJpZ2h0XCIsXG4gICAgXCJzY3JvbGwtc25hcC1tYXJnaW4tYm90dG9tXCIsXG4gICAgXCJzY3JvbGwtc25hcC1tYXJnaW4tbGVmdFwiLFxuICBdLFxuICBcInNjcm9sbC1zbmFwLW1hcmdpbi1ibG9ja1wiOiBbXG4gICAgXCJzY3JvbGwtc25hcC1tYXJnaW4tYmxvY2stc3RhcnRcIixcbiAgICBcInNjcm9sbC1zbmFwLW1hcmdpbi1ibG9jay1lbmRcIixcbiAgXSxcbiAgXCJzY3JvbGwtc25hcC1tYXJnaW4taW5saW5lXCI6IFtcbiAgICBcInNjcm9sbC1zbmFwLW1hcmdpbi1pbmxpbmUtc3RhcnRcIixcbiAgICBcInNjcm9sbC1zbmFwLW1hcmdpbi1pbmxpbmUtZW5kXCIsXG4gIF0sXG5cbiAgLy8gQ1NTIFNwZWVjaCBNb2R1bGU6IGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNwZWVjaC9cbiAgY3VlOiBbXCJjdWUtYmVmb3JlXCIsIFwiY3VlLWFmdGVyXCJdLFxuICBwYXVzZTogW1wicGF1c2UtYmVmb3JlXCIsIFwicGF1c2UtYWZ0ZXJcIl0sXG4gIHJlc3Q6IFtcInJlc3QtYmVmb3JlXCIsIFwicmVzdC1hZnRlclwiXSxcblxuICAvLyBDU1MgVGV4dCBEZWNvcmF0aW9uIE1vZHVsZSBMZXZlbCAzOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXRleHQtZGVjb3ItMy9cbiAgXCJ0ZXh0LWRlY29yYXRpb25cIjogW1xuICAgIFwidGV4dC1kZWNvcmF0aW9uLWxpbmVcIixcbiAgICBcInRleHQtZGVjb3JhdGlvbi1zdHlsZVwiLFxuICAgIFwidGV4dC1kZWNvcmF0aW9uLWNvbG9yXCIsXG4gIF0sXG4gIFwidGV4dC1lbXBoYXNpc1wiOiBbXCJ0ZXh0LWVtcGhhc2lzLXN0eWxlXCIsIFwidGV4dC1lbXBoYXNpcy1jb2xvclwiXSxcblxuICAvLyBDU1MgQW5pbWF0aW9ucyAoV0QpOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzMy1hbmltYXRpb25zXG4gIGFuaW1hdGlvbjogW1xuICAgIFwiYW5pbWF0aW9uLW5hbWVcIixcbiAgICBcImFuaW1hdGlvbi1kdXJhdGlvblwiLFxuICAgIFwiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblwiLFxuICAgIFwiYW5pbWF0aW9uLWRlbGF5XCIsXG4gICAgXCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50XCIsXG4gICAgXCJhbmltYXRpb24tZGlyZWN0aW9uXCIsXG4gICAgXCJhbmltYXRpb24tZmlsbC1tb2RlXCIsXG4gICAgXCJhbmltYXRpb24tcGxheS1zdGF0ZVwiLFxuICBdLFxuXG4gIC8vIENTUyBUcmFuc2l0aW9ucyAoV0QpOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzMy10cmFuc2l0aW9ucy9cbiAgdHJhbnNpdGlvbjogW1xuICAgIFwidHJhbnNpdGlvbi1wcm9wZXJ0eVwiLFxuICAgIFwidHJhbnNpdGlvbi1kdXJhdGlvblwiLFxuICAgIFwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb25cIixcbiAgICBcInRyYW5zaXRpb24tZGVsYXlcIixcbiAgXSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZU5vTWl4ZWRIYW5kKHN0eWxlOiBhbnkpIHtcbiAgY29uc3QgaHlwaGVuYXRlZFByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhzdHlsZSkucmVkdWNlKChhY2MsIHByb3BlcnR5KSA9PiB7XG4gICAgYWNjW2h5cGhlbmF0ZShwcm9wZXJ0eSldID0gcHJvcGVydHk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30gYXMgYW55KTtcblxuICBjb25zdCBtaXhlZCA9IFtdO1xuICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIGh5cGhlbmF0ZWRQcm9wZXJ0aWVzKSB7XG4gICAgaWYgKHByb3BlcnR5IGluIHNob3J0aGFuZE1hcCkge1xuICAgICAgZm9yIChjb25zdCBsb25naGFuZCBvZiBzaG9ydGhhbmRNYXBbcHJvcGVydHldKSB7XG4gICAgICAgIGlmIChsb25naGFuZCBpbiBoeXBoZW5hdGVkUHJvcGVydGllcykge1xuICAgICAgICAgIGNvbnN0IGxvbmcgPSBoeXBoZW5hdGVkUHJvcGVydGllc1tsb25naGFuZF07XG4gICAgICAgICAgY29uc3Qgc2hvcnQgPSBoeXBoZW5hdGVkUHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgICAgICAgbWl4ZWQucHVzaCh7XG4gICAgICAgICAgICBzaG9ydGhhbmQ6IHtwcm9wZXJ0eTogc2hvcnQsIHZhbHVlOiBzdHlsZVtzaG9ydF19LFxuICAgICAgICAgICAgbG9uZ2hhbmQ6IHtwcm9wZXJ0eTogbG9uZywgdmFsdWU6IHN0eWxlW2xvbmddfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWl4ZWQ7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQTs7OztBQUpBO0FBQ0E7QUFDQTtBQUlBLE1BQU1BLFlBQVksR0FBRztFQUNuQjtFQUNBLGNBQWMsQ0FBQyxpQkFBRCxFQUFvQixxQkFBcEIsRUFBMkMsa0JBQTNDLENBRks7RUFHbkJDLE1BQU0sRUFBRSxDQUFDLFlBQUQsRUFBZSxjQUFmLEVBQStCLGVBQS9CLEVBQWdELGFBQWhELENBSFc7RUFJbkJDLE9BQU8sRUFBRSxDQUFDLGVBQUQsRUFBa0IsZUFBbEIsRUFBbUMsZUFBbkMsQ0FKVTtFQUtuQkMsT0FBTyxFQUFFLENBQUMsYUFBRCxFQUFnQixlQUFoQixFQUFpQyxnQkFBakMsRUFBbUQsY0FBbkQsQ0FMVTtFQU9uQjtFQUNBQyxVQUFVLEVBQUUsQ0FDVixrQkFEVSxFQUVWLHFCQUZV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