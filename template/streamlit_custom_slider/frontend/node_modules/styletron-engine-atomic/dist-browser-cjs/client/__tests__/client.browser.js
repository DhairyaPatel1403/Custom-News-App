"use strict";

var _server = _interopRequireDefault(require("../../server/server"));

var _client = _interopRequireDefault(require("../client"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-env browser */
const reduce = Array.prototype.reduce;
const map = Array.prototype.map;
test("container config", () => {
  const instance = new _client.default();
  expect(instance.container).toBe(document.head);
});
test("automatic stylesheet insertion", () => {
  const container = document.createElement("div");
  document.body && document.body.appendChild(container);
  const instance = new _client.default({
    container
  });
  expect(instance.container).toStrictEqual(container); // lazy instantiation

  expect(document.styleSheets.length).toBe(0);
  expect(instance.renderStyle({
    color: "purple"
  })).toBe("ae");
  expect(document.styleSheets.length).toBe(1);
  instance.container.remove();
  expect(document.styleSheets.length).toBe(0);
});
test("rendering", () => {
  const container = document.createElement("div");
  document.body && document.body.appendChild(container);
  const instance = new _client.default({
    container
  });
  expect(instance.renderStyle({
    color: "purple"
  })).toBe("ae");
  expect(sheetsToRules(document.styleSheets)).toEqual([{
    media: "",
    rules: [".ae {color: purple;}"]
  }]); // expect(
  //   instance.renderStyle({
  //     "@media (min-width: 800px)": {color: "purple"},
  //   }),
  // ).toBe("af");
  // expect(sheetsToRules(document.styleSheets)).toEqual([
  //   {media: "", rules: [".ae {color: purple;}"]},
  //   {media: "(min-width: 800px)", rules: [".af {color: purple;}"]},
  // ]);

  instance.renderStyle({
    userSelect: "none"
  });
  expect(sheetsToRules(document.styleSheets)).toEqual([{
    media: "",
    rules: [".ae {color: purple;}", ".af {-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}"]
  } // {media: "(min-width: 800px)", rules: [".af {color: purple;}"]},
  ]);
  instance.renderStyle({
    display: "flex"
  });
  expect(sheetsToRules(document.styleSheets)).toEqual([{
    media: "",
    rules: [".ae {color: purple;}", ".af {-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;}", ".ag {display: flex;}"]
  } // {media: "(min-width: 800px)", rules: [".af {color: purple;}"]},
  ]); // instance.renderStyle({
  //   "@media (min-width: 600px)": {
  //     color: "red",
  //   },
  // });
  // expect(sheetsToRules(document.styleSheets)).toEqual([
  //   {
  //     media: "",
  //     rules: [
  //       ".ae {color: purple;}",
  //       ".ag {user-select: none;}",
  //       ".ah {display: flex;}",
  //     ],
  //   },
  // {media: "(min-width: 600px)", rules: [".ai { color: red; }"]},
  // {media: "(min-width: 800px)", rules: [".af { color: purple; }"]},
  // ]);

  instance.container.remove();
});
test("prefix", () => {
  const container = document.createElement("div");
  document.body && document.body.appendChild(container);
  const instance = new _client.default({
    container,
    prefix: "foo_"
  });
  expect(instance.renderStyle({
    color: "purple"
  })).toBe("foo_ae");
  expect(instance.renderFontFace({
    src: "url(blah)"
  })).toBe("foo_ae");
  expect(instance.renderKeyframes({
    from: {
      color: "red"
    },
    to: {
      color: "blue"
    }
  })).toBe("foo_ae");
  expect(sheetsToRules(document.styleSheets)).toEqual([{
    media: "",
    rules: [".foo_ae {color: purple;}", `@font-face {font-family: foo_ae; src: url(blah);}`, "@keyframes foo_ae { \n  from {color: red;} \n  to {color: blue;} \n}"]
  }]);
  instance.container.remove();
});
test("hydration", () => {
  const {
    getSheets,
    cleanup,
    container
  } = setup(); // SSR

  const server = new _server.default();
  injectFixtureStyles(server);
  container.innerHTML = server.getStylesheetsHtml(); // Hydration

  const instance = new _client.default({
    hydrate: getSheets()
  });
  const beforeSheetLength = document.styleSheets.length;
  const beforeRules = elementsToRules(getSheets());
  injectFixtureStyles(instance);
  const afterSheetLength = document.styleSheets.length;
  const afterRules = elementsToRules(getSheets());
  expect(beforeSheetLength).toBe(afterSheetLength);
  expect(afterRules).toEqual(beforeRules);
  cleanup();
}); // test("sort client media queries", t => {
//   const {cleanup, container} = setup();
//   const styletron = new StyletronClient({container});
//   styletron.renderStyle({
//     "@media (min-width: 700px)": {
//       color: "pink",
//     },
//   });
//   expect(sheetsToRules(document.styleSheets)).toEqual([
//     {media: "", rules: []},
//     {media: "(min-width: 700px)", rules: [".ae { color: pink; }"]},
//   ]);
//   cleanup();
// });
// test("sort a new media query after hydration", () => {
//   const {getSheets, cleanup, container} = setup();
//   // SSR
//   const server = new StyletronServer();
//   injectFixtureStyles(server);
//   container.innerHTML = server.getStylesheetsHtml();
//   //Hydration
//   const instance = new StyletronClient({
//     hydrate: getSheets(),
//     container,
//   });
//   //render a client-only and unique media query (mid position)
//   instance.renderStyle({
//     "@media (min-width: 700px)": {
//       color: "pink",
//     },
//   });
//   //render a client-only and unique media query (end position)
//   instance.renderStyle({
//     "@media (min-width: 1000px)": {
//       color: "black",
//     },
//   });
//   expect(sheetsToRules(document.styleSheets)).toEqual([
//     {
//       media: "",
//       rules: [
//         "@keyframes ae { \n  0% { color: red; }\n  100% { color: blue; }\n}",
//       ],
//     },
//     {media: "", rules: ['@font-face { font-family: ae; src: url("blah"); }']},
//     {
//       media: "",
//       rules: [
//         ".ae { color: red; }",
//         ".af { color: green; }",
//         ".aj:hover { display: none; }",
//         ".ak { user-select: none; }",
//         ".al { display: flex; }",
//       ],
//     },
//     {media: "(min-width: 600px)", rules: [".ah { color: red; }"]},
//     {media: "(min-width: 700px)", rules: [".am { color: pink; }"]},
//     {
//       media: "(min-width: 800px)",
//       rules: [".ag { color: green; }", ".ai:hover { color: green; }"],
//     },
//     {media: "(min-width: 1000px)", rules: [".an { color: black; }"]},
//   ]);
//   cleanup();
// });

function injectFixtureStyles(styletron) {
  styletron.renderStyle({
    color: "red"
  });
  styletron.renderStyle({
    color: "green"
  });
  styletron.renderStyle({
    "@media (min-width: 800px)": {
      color: "green"
    }
  });
  styletron.renderStyle({
    "@media (min-width: 600px)": {
      color: "red"
    }
  });
  styletron.renderStyle({
    "@media (min-width: 800px)": {
      ":hover": {
        color: "green"
      }
    }
  });
  styletron.renderStyle({
    ":hover": {
      display: "none"
    }
  });
  styletron.renderStyle({
    userSelect: "none"
  });
  styletron.renderStyle({
    display: "flex"
  });
  styletron.renderFontFace({
    src: "url(blah)"
  });
  styletron.renderKeyframes({
    from: {
      color: "red"
    },
    to: {
      color: "blue"
    }
  });
}

function setup() {
  const container = document.createElement("div");

  if (document.body === void 0) {
    throw new Error("no body");
  }

  if (document.body === null) {
    throw new Error("body is null");
  }

  document.body.appendChild(container);
  return {
    container,

    getSheets() {
      return container.children;
    },

    cleanup() {
      container.remove();
    }

  };
}

function sheetToRules(sheet) {
  return reduce.call(sheet.cssRules, (acc, rule) => {
    return [...acc, rule.cssText];
  }, []);
}

function elementsToRules(elements) {
  return sheetsToRules(map.call(elements, el => el.sheet));
}

function sheetsToRules(sheets) {
  return reduce.call(sheets, (acc, sheet) => {
    return [...acc, // JSDOM does not support reading the media property... will likely need to
    // figure out another way to unit test this feature. Commented out instances
    // where we assert against this field. Will need to follow up after migration.
    // {media: sheet.media.mediaText, rules: sheetToRules(sheet)},
    {
      media: "",
      rules: sheetToRules(sheet)
    }];
  }, []);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZWR1Y2UiLCJBcnJheSIsInByb3RvdHlwZSIsIm1hcCIsInRlc3QiLCJpbnN0YW5jZSIsIlN0eWxldHJvbkNsaWVudCIsImV4cGVjdCIsImNvbnRhaW5lciIsInRvQmUiLCJkb2N1bWVudCIsImhlYWQiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwidG9TdHJpY3RFcXVhbCIsInN0eWxlU2hlZXRzIiwibGVuZ3RoIiwicmVuZGVyU3R5bGUiLCJjb2xvciIsInJlbW92ZSIsInNoZWV0c1RvUnVsZXMiLCJ0b0VxdWFsIiwibWVkaWEiLCJydWxlcyIsInVzZXJTZWxlY3QiLCJkaXNwbGF5IiwicHJlZml4IiwicmVuZGVyRm9udEZhY2UiLCJzcmMiLCJyZW5kZXJLZXlmcmFtZXMiLCJmcm9tIiwidG8iLCJnZXRTaGVldHMiLCJjbGVhbnVwIiwic2V0dXAiLCJzZXJ2ZXIiLCJTdHlsZXRyb25TZXJ2ZXIiLCJpbmplY3RGaXh0dXJlU3R5bGVzIiwiaW5uZXJIVE1MIiwiZ2V0U3R5bGVzaGVldHNIdG1sIiwiaHlkcmF0ZSIsImJlZm9yZVNoZWV0TGVuZ3RoIiwiYmVmb3JlUnVsZXMiLCJlbGVtZW50c1RvUnVsZXMiLCJhZnRlclNoZWV0TGVuZ3RoIiwiYWZ0ZXJSdWxlcyIsInN0eWxldHJvbiIsIkVycm9yIiwiY2hpbGRyZW4iLCJzaGVldFRvUnVsZXMiLCJzaGVldCIsImNhbGwiLCJjc3NSdWxlcyIsImFjYyIsInJ1bGUiLCJjc3NUZXh0IiwiZWxlbWVudHMiLCJlbCIsInNoZWV0cyJdLCJzb3VyY2VzIjpbInNyYy9jbGllbnQvX190ZXN0c19fL2NsaWVudC5icm93c2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG5pbXBvcnQgU3R5bGV0cm9uU2VydmVyIGZyb20gXCIuLi8uLi9zZXJ2ZXIvc2VydmVyXCI7XG5pbXBvcnQgU3R5bGV0cm9uQ2xpZW50IGZyb20gXCIuLi9jbGllbnRcIjtcbmNvbnN0IHJlZHVjZSA9IEFycmF5LnByb3RvdHlwZS5yZWR1Y2U7XG5jb25zdCBtYXAgPSBBcnJheS5wcm90b3R5cGUubWFwO1xuXG50ZXN0KFwiY29udGFpbmVyIGNvbmZpZ1wiLCAoKSA9PiB7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IFN0eWxldHJvbkNsaWVudCgpO1xuICBleHBlY3QoaW5zdGFuY2UuY29udGFpbmVyKS50b0JlKGRvY3VtZW50LmhlYWQpO1xufSk7XG5cbnRlc3QoXCJhdXRvbWF0aWMgc3R5bGVzaGVldCBpbnNlcnRpb25cIiwgKCkgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgU3R5bGV0cm9uQ2xpZW50KHtjb250YWluZXJ9KTtcbiAgZXhwZWN0KGluc3RhbmNlLmNvbnRhaW5lcikudG9TdHJpY3RFcXVhbChjb250YWluZXIpO1xuICAvLyBsYXp5IGluc3RhbnRpYXRpb25cbiAgZXhwZWN0KGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aCkudG9CZSgwKTtcbiAgZXhwZWN0KGluc3RhbmNlLnJlbmRlclN0eWxlKHtjb2xvcjogXCJwdXJwbGVcIn0pKS50b0JlKFwiYWVcIik7XG4gIGV4cGVjdChkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGgpLnRvQmUoMSk7XG4gIGluc3RhbmNlLmNvbnRhaW5lci5yZW1vdmUoKTtcbiAgZXhwZWN0KGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aCkudG9CZSgwKTtcbn0pO1xuXG50ZXN0KFwicmVuZGVyaW5nXCIsICgpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IFN0eWxldHJvbkNsaWVudCh7Y29udGFpbmVyfSk7XG5cbiAgZXhwZWN0KGluc3RhbmNlLnJlbmRlclN0eWxlKHtjb2xvcjogXCJwdXJwbGVcIn0pKS50b0JlKFwiYWVcIik7XG4gIGV4cGVjdChzaGVldHNUb1J1bGVzKGRvY3VtZW50LnN0eWxlU2hlZXRzKSkudG9FcXVhbChbXG4gICAge21lZGlhOiBcIlwiLCBydWxlczogW1wiLmFlIHtjb2xvcjogcHVycGxlO31cIl19LFxuICBdKTtcblxuICAvLyBleHBlY3QoXG4gIC8vICAgaW5zdGFuY2UucmVuZGVyU3R5bGUoe1xuICAvLyAgICAgXCJAbWVkaWEgKG1pbi13aWR0aDogODAwcHgpXCI6IHtjb2xvcjogXCJwdXJwbGVcIn0sXG4gIC8vICAgfSksXG4gIC8vICkudG9CZShcImFmXCIpO1xuICAvLyBleHBlY3Qoc2hlZXRzVG9SdWxlcyhkb2N1bWVudC5zdHlsZVNoZWV0cykpLnRvRXF1YWwoW1xuICAvLyAgIHttZWRpYTogXCJcIiwgcnVsZXM6IFtcIi5hZSB7Y29sb3I6IHB1cnBsZTt9XCJdfSxcbiAgLy8gICB7bWVkaWE6IFwiKG1pbi13aWR0aDogODAwcHgpXCIsIHJ1bGVzOiBbXCIuYWYge2NvbG9yOiBwdXJwbGU7fVwiXX0sXG4gIC8vIF0pO1xuXG4gIGluc3RhbmNlLnJlbmRlclN0eWxlKHt1c2VyU2VsZWN0OiBcIm5vbmVcIn0pO1xuICBleHBlY3Qoc2hlZXRzVG9SdWxlcyhkb2N1bWVudC5zdHlsZVNoZWV0cykpLnRvRXF1YWwoW1xuICAgIHtcbiAgICAgIG1lZGlhOiBcIlwiLFxuICAgICAgcnVsZXM6IFtcbiAgICAgICAgXCIuYWUge2NvbG9yOiBwdXJwbGU7fVwiLFxuICAgICAgICBcIi5hZiB7LXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTsgLW1vei11c2VyLXNlbGVjdDogbm9uZTsgLW1zLXVzZXItc2VsZWN0OiBub25lOyB1c2VyLXNlbGVjdDogbm9uZTt9XCIsXG4gICAgICBdLFxuICAgIH0sXG4gICAgLy8ge21lZGlhOiBcIihtaW4td2lkdGg6IDgwMHB4KVwiLCBydWxlczogW1wiLmFmIHtjb2xvcjogcHVycGxlO31cIl19LFxuICBdKTtcblxuICBpbnN0YW5jZS5yZW5kZXJTdHlsZSh7ZGlzcGxheTogXCJmbGV4XCJ9KTtcbiAgZXhwZWN0KHNoZWV0c1RvUnVsZXMoZG9jdW1lbnQuc3R5bGVTaGVldHMpKS50b0VxdWFsKFtcbiAgICB7XG4gICAgICBtZWRpYTogXCJcIixcbiAgICAgIHJ1bGVzOiBbXG4gICAgICAgIFwiLmFlIHtjb2xvcjogcHVycGxlO31cIixcbiAgICAgICAgXCIuYWYgey13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7IC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7IC1tcy11c2VyLXNlbGVjdDogbm9uZTsgdXNlci1zZWxlY3Q6IG5vbmU7fVwiLFxuICAgICAgICBcIi5hZyB7ZGlzcGxheTogZmxleDt9XCIsXG4gICAgICBdLFxuICAgIH0sXG4gICAgLy8ge21lZGlhOiBcIihtaW4td2lkdGg6IDgwMHB4KVwiLCBydWxlczogW1wiLmFmIHtjb2xvcjogcHVycGxlO31cIl19LFxuICBdKTtcblxuICAvLyBpbnN0YW5jZS5yZW5kZXJTdHlsZSh7XG4gIC8vICAgXCJAbWVkaWEgKG1pbi13aWR0aDogNjAwcHgpXCI6IHtcbiAgLy8gICAgIGNvbG9yOiBcInJlZFwiLFxuICAvLyAgIH0sXG4gIC8vIH0pO1xuICAvLyBleHBlY3Qoc2hlZXRzVG9SdWxlcyhkb2N1bWVudC5zdHlsZVNoZWV0cykpLnRvRXF1YWwoW1xuICAvLyAgIHtcbiAgLy8gICAgIG1lZGlhOiBcIlwiLFxuICAvLyAgICAgcnVsZXM6IFtcbiAgLy8gICAgICAgXCIuYWUge2NvbG9yOiBwdXJwbGU7fVwiLFxuICAvLyAgICAgICBcIi5hZyB7dXNlci1zZWxlY3Q6IG5vbmU7fVwiLFxuICAvLyAgICAgICBcIi5haCB7ZGlzcGxheTogZmxleDt9XCIsXG4gIC8vICAgICBdLFxuICAvLyAgIH0sXG4gIC8vIHttZWRpYTogXCIobWluLXdpZHRoOiA2MDBweClcIiwgcnVsZXM6IFtcIi5haSB7IGNvbG9yOiByZWQ7IH1cIl19LFxuICAvLyB7bWVkaWE6IFwiKG1pbi13aWR0aDogODAwcHgpXCIsIHJ1bGVzOiBbXCIuYWYgeyBjb2xvcjogcHVycGxlOyB9XCJdfSxcbiAgLy8gXSk7XG4gIGluc3RhbmNlLmNvbnRhaW5lci5yZW1vdmUoKTtcbn0pO1xuXG50ZXN0KFwicHJlZml4XCIsICgpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IFN0eWxldHJvbkNsaWVudCh7Y29udGFpbmVyLCBwcmVmaXg6IFwiZm9vX1wifSk7XG5cbiAgZXhwZWN0KGluc3RhbmNlLnJlbmRlclN0eWxlKHtjb2xvcjogXCJwdXJwbGVcIn0pKS50b0JlKFwiZm9vX2FlXCIpO1xuICBleHBlY3QoaW5zdGFuY2UucmVuZGVyRm9udEZhY2Uoe3NyYzogXCJ1cmwoYmxhaClcIn0pKS50b0JlKFwiZm9vX2FlXCIpO1xuICBleHBlY3QoXG4gICAgaW5zdGFuY2UucmVuZGVyS2V5ZnJhbWVzKHtmcm9tOiB7Y29sb3I6IFwicmVkXCJ9LCB0bzoge2NvbG9yOiBcImJsdWVcIn19KSxcbiAgKS50b0JlKFwiZm9vX2FlXCIpO1xuICBleHBlY3Qoc2hlZXRzVG9SdWxlcyhkb2N1bWVudC5zdHlsZVNoZWV0cykpLnRvRXF1YWwoW1xuICAgIHtcbiAgICAgIG1lZGlhOiBcIlwiLFxuICAgICAgcnVsZXM6IFtcbiAgICAgICAgXCIuZm9vX2FlIHtjb2xvcjogcHVycGxlO31cIixcbiAgICAgICAgYEBmb250LWZhY2Uge2ZvbnQtZmFtaWx5OiBmb29fYWU7IHNyYzogdXJsKGJsYWgpO31gLFxuICAgICAgICBcIkBrZXlmcmFtZXMgZm9vX2FlIHsgXFxuICBmcm9tIHtjb2xvcjogcmVkO30gXFxuICB0byB7Y29sb3I6IGJsdWU7fSBcXG59XCIsXG4gICAgICBdLFxuICAgIH0sXG4gIF0pO1xuXG4gIGluc3RhbmNlLmNvbnRhaW5lci5yZW1vdmUoKTtcbn0pO1xuXG50ZXN0KFwiaHlkcmF0aW9uXCIsICgpID0+IHtcbiAgY29uc3Qge2dldFNoZWV0cywgY2xlYW51cCwgY29udGFpbmVyfSA9IHNldHVwKCk7XG5cbiAgLy8gU1NSXG4gIGNvbnN0IHNlcnZlciA9IG5ldyBTdHlsZXRyb25TZXJ2ZXIoKTtcbiAgaW5qZWN0Rml4dHVyZVN0eWxlcyhzZXJ2ZXIpO1xuICBjb250YWluZXIuaW5uZXJIVE1MID0gc2VydmVyLmdldFN0eWxlc2hlZXRzSHRtbCgpO1xuXG4gIC8vIEh5ZHJhdGlvblxuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBTdHlsZXRyb25DbGllbnQoe1xuICAgIGh5ZHJhdGU6IGdldFNoZWV0cygpLFxuICB9KTtcblxuICBjb25zdCBiZWZvcmVTaGVldExlbmd0aCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDtcbiAgY29uc3QgYmVmb3JlUnVsZXMgPSBlbGVtZW50c1RvUnVsZXMoZ2V0U2hlZXRzKCkpO1xuICBpbmplY3RGaXh0dXJlU3R5bGVzKGluc3RhbmNlKTtcbiAgY29uc3QgYWZ0ZXJTaGVldExlbmd0aCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aDtcbiAgY29uc3QgYWZ0ZXJSdWxlcyA9IGVsZW1lbnRzVG9SdWxlcyhnZXRTaGVldHMoKSk7XG4gIGV4cGVjdChiZWZvcmVTaGVldExlbmd0aCkudG9CZShhZnRlclNoZWV0TGVuZ3RoKTtcbiAgZXhwZWN0KGFmdGVyUnVsZXMpLnRvRXF1YWwoYmVmb3JlUnVsZXMpO1xuICBjbGVhbnVwKCk7XG59KTtcblxuLy8gdGVzdChcInNvcnQgY2xpZW50IG1lZGlhIHF1ZXJpZXNcIiwgdCA9PiB7XG4vLyAgIGNvbnN0IHtjbGVhbnVwLCBjb250YWluZXJ9ID0gc2V0dXAoKTtcblxuLy8gICBjb25zdCBzdHlsZXRyb24gPSBuZXcgU3R5bGV0cm9uQ2xpZW50KHtjb250YWluZXJ9KTtcblxuLy8gICBzdHlsZXRyb24ucmVuZGVyU3R5bGUoe1xuLy8gICAgIFwiQG1lZGlhIChtaW4td2lkdGg6IDcwMHB4KVwiOiB7XG4vLyAgICAgICBjb2xvcjogXCJwaW5rXCIsXG4vLyAgICAgfSxcbi8vICAgfSk7XG5cbi8vICAgZXhwZWN0KHNoZWV0c1RvUnVsZXMoZG9jdW1lbnQuc3R5bGVTaGVldHMpKS50b0VxdWFsKFtcbi8vICAgICB7bWVkaWE6IFwiXCIsIHJ1bGVzOiBbXX0sXG4vLyAgICAge21lZGlhOiBcIihtaW4td2lkdGg6IDcwMHB4KVwiLCBydWxlczogW1wiLmFlIHsgY29sb3I6IHBpbms7IH1cIl19LFxuLy8gICBdKTtcblxuLy8gICBjbGVhbnVwKCk7XG4vLyB9KTtcblxuLy8gdGVzdChcInNvcnQgYSBuZXcgbWVkaWEgcXVlcnkgYWZ0ZXIgaHlkcmF0aW9uXCIsICgpID0+IHtcbi8vICAgY29uc3Qge2dldFNoZWV0cywgY2xlYW51cCwgY29udGFpbmVyfSA9IHNldHVwKCk7XG5cbi8vICAgLy8gU1NSXG4vLyAgIGNvbnN0IHNlcnZlciA9IG5ldyBTdHlsZXRyb25TZXJ2ZXIoKTtcbi8vICAgaW5qZWN0Rml4dHVyZVN0eWxlcyhzZXJ2ZXIpO1xuLy8gICBjb250YWluZXIuaW5uZXJIVE1MID0gc2VydmVyLmdldFN0eWxlc2hlZXRzSHRtbCgpO1xuXG4vLyAgIC8vSHlkcmF0aW9uXG4vLyAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFN0eWxldHJvbkNsaWVudCh7XG4vLyAgICAgaHlkcmF0ZTogZ2V0U2hlZXRzKCksXG4vLyAgICAgY29udGFpbmVyLFxuLy8gICB9KTtcblxuLy8gICAvL3JlbmRlciBhIGNsaWVudC1vbmx5IGFuZCB1bmlxdWUgbWVkaWEgcXVlcnkgKG1pZCBwb3NpdGlvbilcbi8vICAgaW5zdGFuY2UucmVuZGVyU3R5bGUoe1xuLy8gICAgIFwiQG1lZGlhIChtaW4td2lkdGg6IDcwMHB4KVwiOiB7XG4vLyAgICAgICBjb2xvcjogXCJwaW5rXCIsXG4vLyAgICAgfSxcbi8vICAgfSk7XG5cbi8vICAgLy9yZW5kZXIgYSBjbGllbnQtb25seSBhbmQgdW5pcXVlIG1lZGlhIHF1ZXJ5IChlbmQgcG9zaXRpb24pXG4vLyAgIGluc3RhbmNlLnJlbmRlclN0eWxlKHtcbi8vICAgICBcIkBtZWRpYSAobWluLXdpZHRoOiAxMDAwcHgpXCI6IHtcbi8vICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4vLyAgICAgfSxcbi8vICAgfSk7XG5cbi8vICAgZXhwZWN0KHNoZWV0c1RvUnVsZXMoZG9jdW1lbnQuc3R5bGVTaGVldHMpKS50b0VxdWFsKFtcbi8vICAgICB7XG4vLyAgICAgICBtZWRpYTogXCJcIixcbi8vICAgICAgIHJ1bGVzOiBbXG4vLyAgICAgICAgIFwiQGtleWZyYW1lcyBhZSB7IFxcbiAgMCUgeyBjb2xvcjogcmVkOyB9XFxuICAxMDAlIHsgY29sb3I6IGJsdWU7IH1cXG59XCIsXG4vLyAgICAgICBdLFxuLy8gICAgIH0sXG4vLyAgICAge21lZGlhOiBcIlwiLCBydWxlczogWydAZm9udC1mYWNlIHsgZm9udC1mYW1pbHk6IGFlOyBzcmM6IHVybChcImJsYWhcIik7IH0nXX0sXG4vLyAgICAge1xuLy8gICAgICAgbWVkaWE6IFwiXCIsXG4vLyAgICAgICBydWxlczogW1xuLy8gICAgICAgICBcIi5hZSB7IGNvbG9yOiByZWQ7IH1cIixcbi8vICAgICAgICAgXCIuYWYgeyBjb2xvcjogZ3JlZW47IH1cIixcbi8vICAgICAgICAgXCIuYWo6aG92ZXIgeyBkaXNwbGF5OiBub25lOyB9XCIsXG4vLyAgICAgICAgIFwiLmFrIHsgdXNlci1zZWxlY3Q6IG5vbmU7IH1cIixcbi8vICAgICAgICAgXCIuYWwgeyBkaXNwbGF5OiBmbGV4OyB9XCIsXG4vLyAgICAgICBdLFxuLy8gICAgIH0sXG4vLyAgICAge21lZGlhOiBcIihtaW4td2lkdGg6IDYwMHB4KVwiLCBydWxlczogW1wiLmFoIHsgY29sb3I6IHJlZDsgfVwiXX0sXG4vLyAgICAge21lZGlhOiBcIihtaW4td2lkdGg6IDcwMHB4KVwiLCBydWxlczogW1wiLmFtIHsgY29sb3I6IHBpbms7IH1cIl19LFxuLy8gICAgIHtcbi8vICAgICAgIG1lZGlhOiBcIihtaW4td2lkdGg6IDgwMHB4KVwiLFxuLy8gICAgICAgcnVsZXM6IFtcIi5hZyB7IGNvbG9yOiBncmVlbjsgfVwiLCBcIi5haTpob3ZlciB7IGNvbG9yOiBncmVlbjsgfVwiXSxcbi8vICAgICB9LFxuLy8gICAgIHttZWRpYTogXCIobWluLXdpZHRoOiAxMDAwcHgpXCIsIHJ1bGVzOiBbXCIuYW4geyBjb2xvcjogYmxhY2s7IH1cIl19LFxuLy8gICBdKTtcblxuLy8gICBjbGVhbnVwKCk7XG4vLyB9KTtcblxuZnVuY3Rpb24gaW5qZWN0Rml4dHVyZVN0eWxlcyhzdHlsZXRyb24pIHtcbiAgc3R5bGV0cm9uLnJlbmRlclN0eWxlKHtjb2xvcjogXCJyZWRcIn0pO1xuICBzdHlsZXRyb24ucmVuZGVyU3R5bGUoe2NvbG9yOiBcImdyZWVuXCJ9KTtcbiAgc3R5bGV0cm9uLnJlbmRlclN0eWxlKHtcbiAgICBcIkBtZWRpYSAobWluLXdpZHRoOiA4MDBweClcIjoge1xuICAgICAgY29sb3I6IFwiZ3JlZW5cIixcbiAgICB9LFxuICB9KTtcbiAgc3R5bGV0cm9uLnJlbmRlclN0eWxlKHtcbiAgICBcIkBtZWRpYSAobWluLXdpZHRoOiA2MDBweClcIjoge1xuICAgICAgY29sb3I6IFwicmVkXCIsXG4gICAgfSxcbiAgfSk7XG4gIHN0eWxldHJvbi5yZW5kZXJTdHlsZSh7XG4gICAgXCJAbWVkaWEgKG1pbi13aWR0aDogODAwcHgpXCI6IHtcbiAgICAgIFwiOmhvdmVyXCI6IHtcbiAgICAgICAgY29sb3I6IFwiZ3JlZW5cIixcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG4gIHN0eWxldHJvbi5yZW5kZXJTdHlsZSh7XG4gICAgXCI6aG92ZXJcIjoge1xuICAgICAgZGlzcGxheTogXCJub25lXCIsXG4gICAgfSxcbiAgfSk7XG4gIHN0eWxldHJvbi5yZW5kZXJTdHlsZSh7XG4gICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gIH0pO1xuICBzdHlsZXRyb24ucmVuZGVyU3R5bGUoe1xuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICB9KTtcbiAgc3R5bGV0cm9uLnJlbmRlckZvbnRGYWNlKHtzcmM6IFwidXJsKGJsYWgpXCJ9KTtcbiAgc3R5bGV0cm9uLnJlbmRlcktleWZyYW1lcyh7ZnJvbToge2NvbG9yOiBcInJlZFwifSwgdG86IHtjb2xvcjogXCJibHVlXCJ9fSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpZiAoZG9jdW1lbnQuYm9keSA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibm8gYm9keVwiKTtcbiAgfVxuXG4gIGlmIChkb2N1bWVudC5ib2R5ID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYm9keSBpcyBudWxsXCIpO1xuICB9XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcixcbiAgICBnZXRTaGVldHMoKSB7XG4gICAgICByZXR1cm4gY29udGFpbmVyLmNoaWxkcmVuIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTFN0eWxlRWxlbWVudD47XG4gICAgfSxcbiAgICBjbGVhbnVwKCkge1xuICAgICAgY29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIHNoZWV0VG9SdWxlcyhzaGVldCkge1xuICByZXR1cm4gcmVkdWNlLmNhbGwoXG4gICAgc2hlZXQuY3NzUnVsZXMsXG4gICAgKGFjYywgcnVsZSkgPT4ge1xuICAgICAgcmV0dXJuIFsuLi5hY2MsIHJ1bGUuY3NzVGV4dF07XG4gICAgfSxcbiAgICBbXSxcbiAgKTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudHNUb1J1bGVzKGVsZW1lbnRzKSB7XG4gIHJldHVybiBzaGVldHNUb1J1bGVzKG1hcC5jYWxsKGVsZW1lbnRzLCBlbCA9PiBlbC5zaGVldCkpO1xufVxuXG5mdW5jdGlvbiBzaGVldHNUb1J1bGVzKHNoZWV0cykge1xuICByZXR1cm4gcmVkdWNlLmNhbGwoXG4gICAgc2hlZXRzLFxuICAgIChhY2MsIHNoZWV0KSA9PiB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi5hY2MsXG4gICAgICAgIC8vIEpTRE9NIGRvZXMgbm90IHN1cHBvcnQgcmVhZGluZyB0aGUgbWVkaWEgcHJvcGVydHkuLi4gd2lsbCBsaWtlbHkgbmVlZCB0b1xuICAgICAgICAvLyBmaWd1cmUgb3V0IGFub3RoZXIgd2F5IHRvIHVuaXQgdGVzdCB0aGlzIGZlYXR1cmUuIENvbW1lbnRlZCBvdXQgaW5zdGFuY2VzXG4gICAgICAgIC8vIHdoZXJlIHdlIGFzc2VydCBhZ2FpbnN0IHRoaXMgZmllbGQuIFdpbGwgbmVlZCB0byBmb2xsb3cgdXAgYWZ0ZXIgbWlncmF0aW9uLlxuICAgICAgICAvLyB7bWVkaWE6IHNoZWV0Lm1lZGlhLm1lZGlhVGV4dCwgcnVsZXM6IHNoZWV0VG9SdWxlcyhzaGVldCl9LFxuICAgICAgICB7bWVkaWE6IFwiXCIsIHJ1bGVzOiBzaGVldFRvUnVsZXMoc2hlZXQpfSxcbiAgICAgIF07XG4gICAgfSxcbiAgICBbXSxcbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFFQTs7QUFDQTs7OztBQUhBO0FBSUEsTUFBTUEsTUFBTSxHQUFHQyxLQUFLLENBQUNDLFNBQU4sQ0FBZ0JGLE1BQS9CO0FBQ0EsTUFBTUcsR0FBRyxHQUFHRixLQUFLLENBQUNDLFNBQU4sQ0FBZ0JDLEdBQTVCO0FBRUFDLElBQUksQ0FBQyxrQkFBRCxFQUFxQixNQUFNO0VBQzdCLE1BQU1DLFFBQVEsR0FBRyxJQUFJQyxlQUFKLEVBQWpCO0VBQ0FDLE1BQU0sQ0FBQ0YsUUFBUSxDQUFDRyxTQUFWLENBQU4s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