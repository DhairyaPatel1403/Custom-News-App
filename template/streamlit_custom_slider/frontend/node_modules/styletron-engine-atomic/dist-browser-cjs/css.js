"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.atomicSelector = atomicSelector;
exports.declarationsToBlock = declarationsToBlock;
exports.fontFaceBlockToRule = fontFaceBlockToRule;
exports.keyframesBlockToRule = keyframesBlockToRule;
exports.keyframesToBlock = keyframesToBlock;
exports.styleBlockToRule = styleBlockToRule;

var _hyphenateStyleName = _interopRequireDefault(require("./hyphenate-style-name"));

var _validateKeyframesObject = _interopRequireDefault(require("./validate-keyframes-object"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function atomicSelector(id, pseudo) {
  let selector = `.${id}`;

  if (pseudo) {
    selector += pseudo;
  }

  return selector;
}

function keyframesToBlock(keyframes) {
  if (process.env.NODE_ENV !== "production") {
    (0, _validateKeyframesObject.default)(keyframes);
  }

  if (process.env.NODE_ENV !== "production" && typeof Object.getPrototypeOf(keyframes) !== "undefined") {
    if (Object.getPrototypeOf(keyframes) !== Object.getPrototypeOf({})) {
      // eslint-disable-next-line no-console
      console.warn("Only plain objects should be used as animation values. Unexpectedly recieved:", keyframes);
    }
  }

  let result = "";

  for (const animationState in keyframes) {
    result += `${animationState}{${declarationsToBlock(keyframes[animationState])}}`;
  }

  return result;
}

function declarationsToBlock(style) {
  let css = "";

  for (const prop in style) {
    const val = style[prop];

    if (typeof val === "string" || typeof val === "number") {
      css += `${(0, _hyphenateStyleName.default)(prop)}:${val};`;
    }
  } // trim trailing semicolon


  return css.slice(0, -1);
}

function keyframesBlockToRule(id, block) {
  return `@keyframes ${id}{${block}}`;
}

function fontFaceBlockToRule(id, block) {
  return `@font-face{font-family:${id};${block}}`;
}

function styleBlockToRule(selector, block) {
  return `${selector}{${block}}`;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhdG9taWNTZWxlY3RvciIsImlkIiwicHNldWRvIiwic2VsZWN0b3IiLCJrZXlmcmFtZXNUb0Jsb2NrIiwia2V5ZnJhbWVzIiwidmFsaWRhdGVLZXlmcmFtZXNPYmplY3QiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNvbnNvbGUiLCJ3YXJuIiwicmVzdWx0IiwiYW5pbWF0aW9uU3RhdGUiLCJkZWNsYXJhdGlvbnNUb0Jsb2NrIiwic3R5bGUiLCJjc3MiLCJwcm9wIiwidmFsIiwiaHlwaGVuYXRlIiwic2xpY2UiLCJrZXlmcmFtZXNCbG9ja1RvUnVsZSIsImJsb2NrIiwiZm9udEZhY2VCbG9ja1RvUnVsZSIsInN0eWxlQmxvY2tUb1J1bGUiXSwic291cmNlcyI6WyJzcmMvY3NzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgdmFyIF9fREVWX186IGJvb2xlYW47XG5cbmltcG9ydCBoeXBoZW5hdGUgZnJvbSBcIi4vaHlwaGVuYXRlLXN0eWxlLW5hbWVcIjtcbmltcG9ydCB2YWxpZGF0ZUtleWZyYW1lc09iamVjdCBmcm9tIFwiLi92YWxpZGF0ZS1rZXlmcmFtZXMtb2JqZWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBhdG9taWNTZWxlY3RvcihpZDogc3RyaW5nLCBwc2V1ZG86IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBzZWxlY3RvciA9IGAuJHtpZH1gO1xuICBpZiAocHNldWRvKSB7XG4gICAgc2VsZWN0b3IgKz0gcHNldWRvO1xuICB9XG4gIHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtleWZyYW1lc1RvQmxvY2soa2V5ZnJhbWVzOiB7W3g6IHN0cmluZ106IGFueX0pOiBzdHJpbmcge1xuICBpZiAoX19ERVZfXykge1xuICAgIHZhbGlkYXRlS2V5ZnJhbWVzT2JqZWN0KGtleWZyYW1lcyk7XG4gIH1cbiAgaWYgKF9fREVWX18gJiYgdHlwZW9mIE9iamVjdC5nZXRQcm90b3R5cGVPZihrZXlmcmFtZXMpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihrZXlmcmFtZXMpICE9PSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIk9ubHkgcGxhaW4gb2JqZWN0cyBzaG91bGQgYmUgdXNlZCBhcyBhbmltYXRpb24gdmFsdWVzLiBVbmV4cGVjdGVkbHkgcmVjaWV2ZWQ6XCIsXG4gICAgICAgIGtleWZyYW1lcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBmb3IgKGNvbnN0IGFuaW1hdGlvblN0YXRlIGluIGtleWZyYW1lcykge1xuICAgIHJlc3VsdCArPSBgJHthbmltYXRpb25TdGF0ZX17JHtkZWNsYXJhdGlvbnNUb0Jsb2NrKFxuICAgICAga2V5ZnJhbWVzW2FuaW1hdGlvblN0YXRlXSxcbiAgICApfX1gO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNsYXJhdGlvbnNUb0Jsb2NrKHN0eWxlOiBhbnkpOiBzdHJpbmcge1xuICBsZXQgY3NzID0gXCJcIjtcbiAgZm9yIChjb25zdCBwcm9wIGluIHN0eWxlKSB7XG4gICAgY29uc3QgdmFsID0gc3R5bGVbcHJvcF07XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY3NzICs9IGAke2h5cGhlbmF0ZShwcm9wKX06JHt2YWx9O2A7XG4gICAgfVxuICB9XG4gIC8vIHRyaW0gdHJhaWxpbmcgc2VtaWNvbG9uXG4gIHJldHVybiBjc3Muc2xpY2UoMCwgLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24ga2V5ZnJhbWVzQmxvY2tUb1J1bGUoaWQ6IHN0cmluZywgYmxvY2s6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBgQGtleWZyYW1lcyAke2lkfXske2Jsb2NrfX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9udEZhY2VCbG9ja1RvUnVsZShpZDogc3RyaW5nLCBibG9jazogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGBAZm9udC1mYWNle2ZvbnQtZmFtaWx5OiR7aWR9OyR7YmxvY2t9fWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUJsb2NrVG9SdWxlKHNlbGVjdG9yOiBzdHJpbmcsIGJsb2NrOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7c2VsZWN0b3J9eyR7YmxvY2t9fWA7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVBOztBQUNBOzs7O0FBRU8sU0FBU0EsY0FBVCxDQUF3QkMsRUFBeEIsRUFBb0NDLE1BQXBDLEVBQTREO0VBQ2pFLElBQUlDLFFBQVEsR0FBSSxJQUFHRixFQUFHLEVBQXRCOztFQUNBLElBQUlDLE1BQUosRUFBWTtJQUNWQyxRQUFRLElBQUlELE1BQVo7RUFDRDs7RUFDRCxPQUFPQyxRQUFQO0FBQ0Q7O0FBRU0sU0FBU0MsZ0JBQVQsQ0FBMEJDLFNBQTFCLEVBQWlFO0VBQ3RFLDJDQUFhO0lBQ1gsSUFBQUMsZ0NBQUEsRUFBd0JELFNBQXhCO0VBQ0Q7O0VBQ0QsSUFBSSx5Q0FBVyxPQUFPRSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JILFNBQXRCLENBQVAsS0FBNEMsV0FBM0QsRUFBd0U7SUFDdEUsSUFBSUUsTUFBTSxDQUFDQyxjQUFQLENBQXNCSCxTQUF0QixNQUFxQ0UsTUFBTSxDQUFDQyxjQUFQLENBQXNCLEVBQXRCLENBQXpDLEVBQW9FO01BQ2xFO01BQ0FDLE9BQU8sQ0FBQ0MsSUFBUixDQUNFLCtFQURGLEVBRUVMLFNBRkY7SUFJRDtFQUNGOztFQUNELElBQUlNLE1BQU0sR0FBRyxFQUFiOztFQUNBLEtBQUssTUFBTUMsY0FBWCxJQUE2QlAsU0FBN0IsRUFBd0M7SUFDdENNLE1BQU0sSUFBSyxHQUFFQyxjQUFlLElBQUdDLG1CQUFtQixDQUNoRFIsU0FBUyxDQUFDTyxjQUFELENBRHVDLENBRWhELEdBRkY7RUFHRDs7RUFDRCxPQUFPRCxNQUFQO0FBQ0Q7O0FBRU0sU0FBU0UsbUJBQVQsQ0FBNkJDLEtBQTdCLEVBQWlEO0VBQ3RELElBQUlDLEdBQUcsR0FBRyxFQUFWOztFQUNBLEtBQUssTUFBTUMsSUFBWCxJQUFtQkYsS0FBbkIsRUFBMEI7SUFDeEIsTUFBTUcsR0FBRyxHQUFHSCxLQUFLLENBQUNFLElBQUQsQ0FBakI7O0lBQ0EsSUFBSSxPQUFPQyxHQUFQLEtBQWUsUUFBZixJQUEyQixPQUFPQSxHQUFQLEtBQWUsUUFBOUMsRUFBd0Q7TUFDdERGLEdBQUcsSUFBSyxHQUFFLElBQUFHLDJCQUFBLEVBQVVGLElBQVYsQ0FBZ0IsSUFBR0MsR0FBSSxHQUFqQztJQUNEO0VBQ0YsQ0FQcUQsQ0FRdEQ7OztFQUNBLE9BQU9GLEdBQUcsQ0FBQ0ksS0FBSixDQUFVLENBQVYsRUFBYSxDQUFDLENBQWQsQ0FBUDtBQUNEOztBQUVNLFNBQVNDLG9CQUFULENBQThCbkIsRUFBOUIsRUFBMENvQixLQUExQyxFQUFpRTtFQUN0RSxPQUFRLGNBQWFwQixFQUFHLElBQUdvQixLQUFNLEdBQWpDO0FBQ0Q7O0FBRU0sU0FBU0MsbUJBQVQsQ0FBNkJyQixFQUE3QixFQUF5Q29CLEtBQXpDLEVBQWdFO0VBQ3JFLE9BQVEsMEJBQXlCcEIsRUFBRyxJQUFHb0IsS0FBTSxHQUE3QztBQUNEOztBQUVNLFNBQVNFLGdCQUFULENBQTBCcEIsUUFBMUIsRUFBNENrQixLQUE1QyxFQUFtRTtFQUN4RSxPQUFRLEdBQUVsQixRQUFTLElBQUdrQixLQUFNLEdBQTVCO0FBQ0QifQ==