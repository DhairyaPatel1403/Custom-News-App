{"ast":null,"code":"export default class SequentialIDGenerator {\n  constructor() {\n    let prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n  increment() {\n    const id = this.count + this.offset;\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n    this.count++;\n    return id;\n  }\n}","map":{"version":3,"names":["SequentialIDGenerator","constructor","prefix","arguments","length","undefined","count","offset","msb","power","next","id","increment","toString","Math","pow"],"sources":["src/sequential-id-generator.ts"],"sourcesContent":["export default class SequentialIDGenerator {\n  prefix: string;\n  count: number;\n  offset: number;\n  msb: number;\n  power: number;\n\n  constructor(prefix: string = \"\") {\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n\n  increment() {\n    const id = this.count + this.offset;\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n    this.count++;\n    return id;\n  }\n}\n"],"mappings":"AAAA,eAAe,MAAMA,qBAAN,CAA4B;EAOzCC,WAAWA,CAAA,EAAsB;IAAA,IAArBC,MAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAlB;IACT;IACA,KAAKD,MAAL,GAAcA,MAAd;IACA,KAAKI,KAAL,GAAa,CAAb;IACA,KAAKC,MAAL,GAAc,GAAd;IACA,KAAKC,GAAL,GAAW,IAAX;IACA,KAAKC,KAAL,GAAa,CAAb;EACD;EAEDC,IAAIA,CAAA,EAAG;IACL,MAAMC,EAAE,GAAG,KAAKC,SAAL,GAAiBC,QAAjB,CAA0B,EAA1B,CAAX;IACA,OAAO,KAAKX,MAAL,GAAe,GAAE,KAAKA,MAAO,GAAES,EAAG,EAAlC,GAAsCA,EAA7C;EACD;EAEDC,SAASA,CAAA,EAAG;IACV,MAAMD,EAAE,GAAG,KAAKL,KAAL,GAAa,KAAKC,MAA7B;IACA,IAAII,EAAE,KAAK,KAAKH,GAAhB,EAAqB;MACnB,KAAKD,MAAL,IAAe,CAAC,KAAKC,GAAL,GAAW,CAAZ,IAAiB,CAAhC;MACA,KAAKA,GAAL,GAAWM,IAAI,CAACC,GAAL,CAAS,EAAT,EAAa,EAAE,KAAKN,KAApB,IAA6B,CAAxC;IACD;IACD,KAAKH,KAAL;IACA,OAAOK,EAAP;EACD;AA7BwC"},"metadata":{},"sourceType":"module"}